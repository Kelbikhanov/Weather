{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\GitHub\\\\Weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\GitHub\\\\Weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\GitHub\\\\Weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\GitHub\\\\Weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\GitHub\\\\Weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\GitHub\\\\Weather\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import Info from'./components/info';import Form from'./components/form';import Weather from'./components/weather';var API_KEY='b32e5abe2e18522de410672fbf9c3cf5';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={temp:undefined,city:undefined,country:undefined,pressure:undefined,sunset:undefined,error:undefined};_this.gettingWeather=function _callee(e){var sity,api_url,data,sunset,date,sunsetDate;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();sity=e.target.elements.sity.value;if(!sity){_context.next=16;break;}_context.next=5;return _regeneratorRuntime.awrap(fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(sity,\"&appid=\").concat(API_KEY,\"&units=metric\")));case 5:api_url=_context.sent;_context.next=8;return _regeneratorRuntime.awrap(api_url.json());case 8:data=_context.sent;sunset=data.sys.sunset;date=new Date();date.setTime(sunset);sunsetDate=date.getHours()+':'+date.getMinutes()+':'+date.getSeconds();_this.setState({temp:data.main.temp,city:data.name.city,country:data.sys.country,pressure:data.main.pressure,sunset:sunsetDate,error:undefined});_context.next=17;break;case 16:_this.setState({temp:undefined,city:undefined,country:undefined,pressure:undefined,sunset:undefined,error:'Введите название города'});case 17:case\"end\":return _context.stop();}}});};return _this;}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"div\",{className:\"main\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-sm-5 info\"},React.createElement(Info,null)),React.createElement(\"div\",{className:\"col-sm-7 form\"},React.createElement(Form,{weatherMethod:this.gettingWeather}),React.createElement(Weather,{temp:this.state.temp,city:this.state.sity,country:this.state.country,pressure:this.state.pressure,sunset:this.state.sunset,error:this.state.error}))))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/GitHub/Weather/src/App.js"],"names":["React","Info","Form","Weather","API_KEY","App","state","temp","undefined","city","country","pressure","sunset","error","gettingWeather","e","preventDefault","sity","target","elements","value","fetch","api_url","json","data","sys","date","Date","setTime","sunsetDate","getHours","getMinutes","getSeconds","setState","main","name","Component"],"mappings":"+1BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CAEA,GAAMC,CAAAA,OAAO,CAAG,kCAAhB,C,GAEMC,CAAAA,G,+XAEFC,K,CAAQ,CACJC,IAAI,CAAEC,SADF,CAEJC,IAAI,CAAED,SAFF,CAGJE,OAAO,CAAEF,SAHL,CAIJG,QAAQ,CAAEH,SAJN,CAKJI,MAAM,CAAEJ,SALJ,CAMJK,KAAK,CAAEL,SANH,C,OAURM,c,CAAiB,iBAAOC,CAAP,gKACbA,CAAC,CAACC,cAAF,GACIC,IAFS,CAEFF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBF,IAAlB,CAAuBG,KAFrB,KAKVH,IALU,2EAMaI,KAAK,6DAAsDJ,IAAtD,mBAAoEb,OAApE,kBANlB,SAMHkB,OANG,gEAOUA,OAAO,CAACC,IAAR,EAPV,SAOHC,IAPG,eAULZ,MAVK,CAUIY,IAAI,CAACC,GAAL,CAASb,MAVb,CAWLc,IAXK,CAWE,GAAIC,CAAAA,IAAJ,EAXF,CAYTD,IAAI,CAACE,OAAL,CAAahB,MAAb,EACIiB,UAbK,CAaQH,IAAI,CAACI,QAAL,GAAkB,GAAlB,CAAwBJ,IAAI,CAACK,UAAL,EAAxB,CAA4C,GAA5C,CAAkDL,IAAI,CAACM,UAAL,EAb1D,CAgBT,MAAKC,QAAL,CAAc,CACV1B,IAAI,CAAEiB,IAAI,CAACU,IAAL,CAAU3B,IADN,CAEVE,IAAI,CAAEe,IAAI,CAACW,IAAL,CAAU1B,IAFN,CAGVC,OAAO,CAAEc,IAAI,CAACC,GAAL,CAASf,OAHR,CAIVC,QAAQ,CAAEa,IAAI,CAACU,IAAL,CAAUvB,QAJV,CAKVC,MAAM,CAAEiB,UALE,CAMVhB,KAAK,CAAEL,SANG,CAAd,EAhBS,+BA2BT,MAAKyB,QAAL,CAAc,CACV1B,IAAI,CAAEC,SADI,CAEVC,IAAI,CAAED,SAFI,CAGVE,OAAO,CAAEF,SAHC,CAIVG,QAAQ,CAAEH,SAJA,CAKVI,MAAM,CAAEJ,SALE,CAMVK,KAAK,CAAE,yBANG,CAAd,EA3BS,+C,sEAwCR,CACL,MAEI,4BAAK,SAAS,CAAC,SAAf,EACI,2BAAK,SAAS,CAAC,MAAf,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,eAAf,EACI,oBAAC,IAAD,MADJ,CADJ,CAII,2BAAK,SAAS,CAAC,eAAf,EACI,oBAAC,IAAD,EAAM,aAAa,CAAE,KAAKC,cAA1B,EADJ,CAEI,oBAAC,OAAD,EACI,IAAI,CAAE,KAAKR,KAAL,CAAWC,IADrB,CAEI,IAAI,CAAE,KAAKD,KAAL,CAAWW,IAFrB,CAGI,OAAO,CAAE,KAAKX,KAAL,CAAWI,OAHxB,CAII,QAAQ,CAAE,KAAKJ,KAAL,CAAWK,QAJzB,CAKI,MAAM,CAAE,KAAKL,KAAL,CAAWM,MALvB,CAMI,KAAK,CAAE,KAAKN,KAAL,CAAWO,KANtB,EAFJ,CAJJ,CADJ,CADJ,CADJ,CAFJ,CA2BH,C,iBAhFab,KAAK,CAACoC,S,EAmFxB,cAAe/B,CAAAA,GAAf","sourcesContent":["import React from 'react';\r\nimport Info from './components/info';\r\nimport Form from './components/form';\r\nimport Weather from './components/weather';\r\n\r\nconst API_KEY = 'b32e5abe2e18522de410672fbf9c3cf5';\r\n\r\nclass App extends React.Component {\r\n\r\n    state = {\r\n        temp: undefined,\r\n        city: undefined,\r\n        country: undefined,\r\n        pressure: undefined,\r\n        sunset: undefined,\r\n        error: undefined\r\n\r\n    }\r\n\r\n    gettingWeather = async (e) => {\r\n        e.preventDefault();\r\n        var sity = e.target.elements.sity.value;\r\n\r\n\r\n        if(sity) {\r\n            const api_url = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${sity}&appid=${API_KEY}&units=metric`);\r\n            const data = await api_url.json();\r\n\r\n\r\n            var sunset = data.sys.sunset;\r\n            var date = new Date();\r\n            date.setTime(sunset);\r\n            var sunsetDate = date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();\r\n\r\n\r\n            this.setState({\r\n                temp: data.main.temp,\r\n                city: data.name.city,\r\n                country: data.sys.country,\r\n                pressure: data.main.pressure,\r\n                sunset: sunsetDate,\r\n                error: undefined\r\n\r\n\r\n            });\r\n        } else {\r\n            this.setState({\r\n                temp: undefined,\r\n                city: undefined,\r\n                country: undefined,\r\n                pressure: undefined,\r\n                sunset: undefined,\r\n                error: 'Введите название города'\r\n\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"wrapper\">\r\n                <div className=\"main\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-sm-5 info\">\r\n                                <Info/>\r\n                            </div>\r\n                            <div className=\"col-sm-7 form\">\r\n                                <Form weatherMethod={this.gettingWeather}/>\r\n                                <Weather\r\n                                    temp={this.state.temp}\r\n                                    city={this.state.sity}\r\n                                    country={this.state.country}\r\n                                    pressure={this.state.pressure}\r\n                                    sunset={this.state.sunset}\r\n                                    error={this.state.error}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}